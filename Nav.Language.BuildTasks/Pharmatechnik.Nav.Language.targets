<Project xmlns="http://schemas.microsoft.com/developer/msbuild/2003">
 
  <UsingTask TaskName="Pharmatechnik.Nav.Language.BuildTasks.NavCodeGenerator" AssemblyFile="Pharmatechnik.Nav.Language.BuildTasks.dll" />

  <ItemGroup>
    <AvailableItemName Include="NavFile"/>
  </ItemGroup>

  <PropertyGroup Condition="'$(ForceGenerateNavCode)' == ''">
    <ForceGenerateNavCode>false</ForceGenerateNavCode>
    <GenerateToClasses>true</GenerateToClasses>
  </PropertyGroup>
  
  <Target Name="GenerateNavCode" BeforeTargets="PrepareForBuild" >
    <NavCodeGenerator Files="@(NavFile)" Force="$(ForceGenerateNavCode)" GenerateToClasses="$(GenerateToClasses)"/>    
  </Target>
  
</Project>